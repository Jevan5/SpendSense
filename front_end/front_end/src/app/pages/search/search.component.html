<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Search</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class='ion-padding'>
    <ion-list lines='full' class='ion-no-margin ion-no-padding'>
      <ion-item>
        <ion-label position='stacked'>Item Name <ion-text color='danger'>*</ion-text></ion-label>
        <app-dropdown-search [items]='locationItemNames' (selectsItem)='search($event)'></app-dropdown-search>
      </ion-item>
    </ion-list>
    <br>
    <ion-list *ngIf='!isLoading()' lines='full'>
      <ion-item-group *ngFor='let locationItem of model.locationItems'>
        <ion-item-divider>
          <ion-label>{{locationItem.getValue('tag')}}</ion-label>
        </ion-item-divider>
        <ion-item>
          <ion-label>Price</ion-label>
          <ion-label>{{locationItem.getValue('price')}}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Address</ion-label>
          <ion-label>{{model.locations.get(locationItem.getValue('_locationId')).getValue('address')}}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>City</ion-label>
          <ion-label>{{model.locations.get(locationItem.getValue('_locationId')).getValue('city')}}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Country</ion-label>
          <ion-label>{{model.locations.get(locationItem.getValue('_locationId')).getValue('country')}}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Franchise</ion-label>
          <ion-label>{{model.franchises.get(model.locations.get(locationItem.getValue('_locationId')).getValue('_franchiseId')).getValue('name')}}</ion-label>
        </ion-item>
      </ion-item-group>
    </ion-list>
    <!-- <table *ngIf='model.franchises != null' class="table">
      <thead class="thead-light">
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Tag</th>
          <th scope="col">Price</th>
          <th scope="col">Location</th>
          <th scope="col">Franchise</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let locationItem of model.locationItems">
          <th scope="row">{{locationItem.getValue('name')}}</th>
          <td>{{locationItem.getValue('tag')}}</td>
          <td>{{locationItem.getValue('price')}}</td>
          <td>{{model.locations.get(locationItem.getValue('_locationId')).getValue('address')}}, {{model.locations.get(locationItem.getValue('_locationId')).getValue('city')}}, {{model.locations.get(locationItem.getValue('_locationId')).getValue('country')}}</td>
          <td>{{model.franchises.get(model.locations.get(locationItem.getValue('_locationId')).getValue('_franchiseId')).getValue('name')}}</td>
        </tr>
      </tbody>
    </table> -->
  </div>
</ion-content>